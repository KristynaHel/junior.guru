{% extends 'main.html' %}
{% from 'macros.html' import logo with context %}


{% block extra_navbar %}
<div class="navbar-partners">
  <div class="navbar-partners-container">
    <h3 class="navbar-partners-heading">
      <span>Partneři <span class="navbar-partners-nonessential">příručky</span></span>
    </h3>
    <ul class="navbar-partners-list">
      {% for company in companies_handbook %}
        {{ logo(company.name, company.filename, company.link, class_prefix='navbar-partners') }}
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}


{% block main %}
<div class="main main-handbook">
  <div class="content-container">
    <main class="content document">
      {% block content %}{{ page.content }}{% endblock %}

      <div class="pagination">
        <div class="pagination-control">
        {% if previous_page %}
          <a href="{{ previous_page.url|url }}" class="pagination-button" title="{{ previous_page.title }}">
            {{ 'arrow-left'|icon }}
            Předchozí téma
          </a>
        {% endif %}
        </div>
        <div class="pagination-control">
        {% if next_page %}
          <a href="{{ next_page.url|url }}" class="pagination-button" title="{{ next_page.title }}">
            Další téma
            {{ 'arrow-right'|icon }}
          </a>
        {% endif %}
        </div>
      </div>
    </main>

    <nav id="toc" class="toc">
      <div class="toc-container">
        <h3 class="toc-heading">
          {{ 'journals'|icon }} Obsah
        </h3>
        <ul class="toc-list">
          {% for toc_sibling in page.parent.children %}
            <li class="toc-item{% if toc_sibling == page %} active{% endif %}">
              <a class="toc-link" href="{{ toc_sibling.url|url }}">
                {{ toc_sibling.title }}
              </a>
              {% if toc_sibling == page %}
                <ul class="toc-sublist">
                  {% for toc_heading in page.toc %}
                    <li class="toc-subitem">
                      <a class="toc-sublink" href="{{ toc_heading.url }}">{{ toc_heading.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </div>
    </nav>
  </div>
</div>
{% endblock %}
